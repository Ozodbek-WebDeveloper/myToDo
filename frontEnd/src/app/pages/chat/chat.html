<!-- <div class="bg-gray-50 dark:bg-gray-900">
  <div class="md:h-screen flex flex-col w-full">
    <div class="flex flex-col gap-2 flex-1 w-[90%] mx-auto py-4">
      <div class="bg-white w-full rounded-lg p-4 h-full">
        Sallom
        {{messages}}
      </div>

      <div class="bg-white flex gap-2 justify-between rounded-lg px-2 py-4">
        <p-floatlabel class="w-full" variant="on">
          <input pInputText id="on_label" [(ngModel)]="messageContent" autocomplete="off"
            class="w-full !bg-white !text-black" />
          <label for="on_label" class="!bg-white">On Label</label>
        </p-floatlabel>
        <p-button label="send" (click)="sendMessage()" severity="info" icon="pi pi-send" iconPos="right" />
      </div>
    </div>
  </div>
</div> -->

<div class="chat-main-container">

  <div class="message-list">
    <h3>Live Chat</h3>

    @for(msg of messages; track msg){
    <div [ngClass]="{'my-message': msg.senderId === currentUserId, 'other-message': msg.senderId !== currentUserId}"
      class="message-bubble-container">
      <div class="message-bubble">
        <strong class="sender-info">
          {{ msg.senderId === currentUserId ? 'Siz:' : 'Suhbatdosh:' }}
        </strong>

        <p class="message-content">{{ msg.text }}</p>

        <!-- <small class="message-time">
          {{ msg.createdAt ? (msg.createdAt | date:'shortTime') : 'Hozir' }}
        </small> -->
      </div>
    </div>
    }


    <!-- <div *ngIf="messages.length === 0" class="no-messages">
            Hozircha xabar yo'q. Birinchi bo'lib yozing!
        </div> -->
  </div>

  <div class="input-area">
    <p-floatLabel class="input-float-label">
      <input pInputText id="message-input" type="text" [(ngModel)]="messageContent" (keyup.enter)="sendMessage()"
        placeholder="Xabar yozing..." />
      <label for="message-input">Xabar</label>
    </p-floatLabel>

    <p-button label="Yuborish" (onClick)="sendMessage()" [disabled]="!messageContent.trim()" icon="pi pi-send"
      class="send-button"></p-button>
  </div>
</div>